阮一峰内存泄露教程：http://www.ruanyifeng.com/blog/2017/04/memory-leak.html

## 标记清除

- JavaScript 最常用的垃圾收集方式
- 当变量进入环境时，这个变量标记为“进入环境”
- 而当变量离开环境时，则将其标记为“离开环境”
- 可以使用一个“进入环境”的变量列表及一个“离开环境”的变量列表来跟踪变量的变化
- 也可以翻转某个特殊的位来记录一个变量何时进入环境及离开环境

流程：
浏览器在运行的时候会给存储再内存中的所有变量都加上标记
去掉环境中的变量以及被环境中引用的变量的标记
如果还有变量有标记，就会被视为准备删除的变量
垃圾回收机制完成内存的清除工作，销毁那些带标记的变量，并回收他们所占用的内存空间

## 引用计数

引用计数的含义是跟踪记录每个值被引用的次数

- 当声明了一个变量并将一个引用类型值赋给该变量时，则该值的引用次数就是 1；
- 如果同一个值又被赋给另一个变量，则该值的引用次数加 1；
- 如果包含对该值引用的变量又取得了另外一个值，则该值的引用次数减 1
- 当该值的引用次数变为 0 时，则可以回收其占用的内存空间
- 当垃圾回收器下一次运行时，就会释放那些引用次数为 0 的值所占用的内存
- 无法回收循环引用的变量
